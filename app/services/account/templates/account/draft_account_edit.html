<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Account Edit</title>
    </head>
    <body>
        <header>
            <ul>
                <li>
                    <a href="http://localhost:8000/auth/yandex/">yandex auth</a>
                </li>
                <li>
                    <a href="http://localhost:8000/auth/github/">github auth</a>
                </li>
            </ul>
        </header>
        <main>
            <h1>Редактирование профиля</h1>
            {% if saved %}
            <p style="color: green;">Изменения сохранены</p>
            {% endif %}
            <section>
                <p>Компонент: {{ component }}</p>
                <ul>
                    <li>ID: {{ props.id }}</li>
                    <li>Email: {{ props.email }}</li>
                    <li>Создан: {{ props.created_at }}</li>
                </ul>
            </section>
            <section>
                <h2>Имя и фамилия</h2>
                <form method="post">
                    {% csrf_token %}
                    <div>
                        <label for="first_name">Имя</label>
                        <input
                            id="first_name"
                            name="first_name"
                            type="text"
                            maxlength="150"
                            value="{{ props.first_name|default_if_none:'' }}"
                        />
                        {% if errors.first_name %}
                        <div style="color: red;">{{ errors.first_name }}</div>
                        {% endif %}
                    </div>
                    <div>
                        <label for="last_name">Фамилия</label>
                        <input
                            id="last_name"
                            name="last_name"
                            type="text"
                            maxlength="150"
                            value="{{ props.last_name|default_if_none:'' }}"
                        />
                        {% if errors.last_name %}
                        <div style="color: red;">{{ errors.last_name }}</div>
                        {% endif %}
                    </div>
                    <div>
                        <button type="submit">Сохранить</button>
                    </div>
                </form>
            </section>
            <section>
                <p>
                    Для JSON отклика добавьте <code>?format=json</code> к URL или
                    отправьте заголовок <code>Accept: application/json</code>.
                </p>
            </section>
        </main>
    </body>
</html>
